## 1. Introduction

### 1.1. How does GitLab integration with Conjur using JWT work?

### 1.2. GitLab free account and GitLab Runner SaaS

![image](https://github.com/joetanx/cjc-gitlab-terraform/assets/90442032/edee14c1-31e7-45e7-8ee6-35cd58f34ea3)

## 2. Preparation

### 2.1. AWS account

#### 2.1.1. AWS IAM permissions

#### 2.1.2. Onboard AWS account to Privilege Cloud

![image](https://github.com/joetanx/cjc-gitlab-terraform/assets/90442032/30ca1a08-c8ab-4be1-a7e9-58ed3d3098b0)

#### 2.1.3. Configure account sync from Privilege Cloud to Conjur Cloud

![image](https://github.com/joetanx/cjc-gitlab-terraform/assets/90442032/32ccdc75-0b21-4497-9910-37c66a58b935)

![image](https://github.com/joetanx/cjc-gitlab-terraform/assets/90442032/e7243f2f-f8db-4c7b-98b2-97d31becf11b)

![image](https://github.com/joetanx/cjc-gitlab-terraform/assets/90442032/b38997b4-a1d1-41d2-a0cf-734de533828f)

![image](https://github.com/joetanx/cjc-gitlab-terraform/assets/90442032/de72e937-a15e-462d-846d-4ce88cdbff17)

## 3. Conjur policies for GitLab JWT

## 4. GitLab Projects

### 4.1. AWS CLI Demo

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/d1bb1f4c-fdab-4d91-bbda-be14b9fdd941)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/49a989a5-4d58-41cb-a018-30cc73546759)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/c76dfa39-59a9-4398-81d2-6558daaa97fd)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/b7c7ff9f-1851-4f71-b6ba-48b4a9258ad0)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/7aea7310-56d4-4623-a5f2-58ca0ad6f761)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/af489be6-3422-4000-8b4e-8ae6eb4651c2)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/34bf619a-855b-4297-8736-3f951d085ecf)

### 4.2. Terraform AWS S3 Demo

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/68601f6e-484c-4bd2-b0b1-bcdfbf968938)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/ef002a6d-29b0-4b72-a6ed-8b10cf723bf9)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/c5b69506-c149-4a92-a532-f4cf34ef7138)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/e653339b-d8eb-467a-94f3-fd264cac3bb3)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/b9804cdf-9ca3-4045-83a6-c9a76a133ab2)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/fda5bfd7-6af2-4f7d-9e39-8ff0349b10fe)

### 4.3. Terraform AWS S3 Cleanup

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/2e811dea-2cce-4ff4-afe9-e073c1943d5f)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/8df6cdf4-4732-4112-8f75-b0ce0de9d358)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/d7cb5e6e-88de-425e-b37d-1bc9cb111390)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/7e01db80-e84a-4ac4-a77c-9faaab737ea5)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/2fc2cafc-ff89-4e54-8ad7-978db2c4f8cc)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/f4c9eecd-1066-4488-9e68-1256861fe6a8)

![image](https://github.com/joetanx/cjc-gitlab/assets/90442032/cd42e890-81d8-4653-b1df-27c095bed536)

## 5. Audit Events

![image](https://github.com/joetanx/cjc-gitlab-terraform/assets/90442032/837f69f0-077d-42e1-9f31-598b0ac3f447)
